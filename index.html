<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mahu - Votre Carte de Visite Numérique</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Styles pour la barre de navigation transparente */
        header {
            position: fixed; /* Reste en haut de l'écran */
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background-color: transparent; /* Fond transparent par défaut */
            transition: background-color 0.3s ease;
        }
        header.scrolled {
            background-color: rgba(255, 255, 255, 0.9); /* Fond blanc semi-transparent au défilement */
            backdrop-filter: blur(5px);
            border-bottom: 1px solid var(--border-color);
        }

        /* Par défaut (sur la vidéo), cacher les éléments sauf l'icône de profil */
        header:not(.scrolled) .logo,
        header:not(.scrolled) .desktop-links {
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        /* Cacher le nouveau menu sur la vidéo */
        header:not(.scrolled) .more-menu-container { display: none; }

        /* Style de l'icône de profil (remplace le bouton Connexion sur la vidéo) */
        header:not(.scrolled) #login-link {
            background: none;
            border: none;
            padding: 5px; /* Petite marge cliquable */
        }

        /* Cacher le texte du bouton sur la vidéo */
        header:not(.scrolled) #login-link .login-text {
            display: none;
        }

        /* Afficher et styliser l'icône SVG sur la vidéo */
        header:not(.scrolled) #login-link .profile-icon {
            display: block;
            stroke: white; /* Couleur de l'icône */
            width: 28px;
            height: 28px;
        }

        /* Cacher l'icône SVG quand on défile */
        header.scrolled #login-link .profile-icon {
            display: none;
        }

        /* Styles pour le nouveau menu "trois points" */
        .more-menu-container {
            position: relative;
        }
        .more-menu-icon {
            cursor: pointer;
            padding: 5px;
        }
        .more-menu-icon svg {
            stroke: white;
            width: 28px;
            height: 28px;
        }
        header.scrolled .more-menu-icon svg {
            stroke: var(--text-primary);
        }

        .more-menu-dropdown {
            display: none; /* Caché par défaut */
            position: absolute;
            top: 100%;
            right: 0;
            background-color: rgba(10, 10, 10, 0.95); /* Fond noir */
            backdrop-filter: blur(5px);
            border-radius: 8px;
            padding: 10px;
            min-width: 160px;
            z-index: 1001;
            border: 1px solid #333;
        }
        .more-menu-dropdown a {
            display: block;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
        }

        /* Section Hero spécifique */
        .hero {
            position: relative;
            height: 100vh; /* Prend 100% de la hauteur de l'écran */
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 0 20px;
            overflow: hidden; /* Cache les parties de la vidéo qui dépassent */
        }
        .hero-video-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }
        .hero-video-background video {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Assure que la vidéo couvre tout l'espace */
        }
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.3); /* Voile sombre pour la lisibilité du texte blanc */
            z-index: -1;
        }
        .hero-text-content h1 {
            font-size: 3.5em;
            margin-bottom: 20px;
        }
        .hero-text-content p {
            font-size: 1.2em;
            max-width: 600px;
            margin: 0 auto 30px auto;
        }

        /* Section Showcase Cartes */
        #card-showcase {
            background-color: var(--background-color);
            padding: 60px 0;
        }
        .card-scroller {
            max-width: 100%;
            overflow: hidden;
            -webkit-mask: linear-gradient(90deg, transparent, white 10%, white 90%, transparent);
            mask: linear-gradient(90deg, transparent, white 10%, white 90%, transparent);
        }
        .card-scroller-inner {
            display: flex;
            gap: 20px;
            width: fit-content;
            animation: scroll-cards 40s linear infinite;
        }
        .card-scroller-inner img {
            height: 200px;
            width: auto;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .card-scroller:hover .card-scroller-inner {
            animation-play-state: paused;
        }

        @keyframes scroll-cards {
            to {
                transform: translateX(calc(-50% - 10px)); /* -50% pour la moitié, -10px pour la moitié du gap */
            }
        }

        /* Responsive */
        @media (max-width: 992px) { /* Point de rupture ajusté pour une meilleure transition */
            nav ul.desktop-links {
                display: none;
            }
            .nav-actions a.primary {
                display: none; /* Cache le bouton connexion principal */
            }
            .menu-burger {
                display: block;
            }
            .nav-actions {
                gap: 15px; /* Réduit l'espace pour le panier */
            }

            .section-title {
                font-size: 2.2em;
            }
            .hero {
                height: 70vh;
            }
            .hero-text-content h1 {
                font-size: 2.5em;
            }
        }

        /* Styles pour le défilement des logos */
        .logo-scroller {
            max-width: 90%;
            overflow: hidden;
            -webkit-mask: linear-gradient(90deg, transparent, white 20%, white 80%, transparent);
            mask: linear-gradient(90deg, transparent, white 20%, white 80%, transparent);
        }

        .logo-scroller-inner {
            display: flex;
            gap: 40px; /* Espace entre les logos */
            width: fit-content;
            animation: scroll 30s linear infinite;
        }

        .logo-scroller-inner img {
            height: 75px; /* Taille des logos agrandie */
            width: auto;
            filter: grayscale(100%);
            opacity: 0.6; /* Légère transparence pour un effet doux */
            transition: filter 0.3s;
        }

        .logo-scroller:hover .logo-scroller-inner {
            animation-play-state: paused; /* Met en pause l'animation au survol */
        }

        .logo-scroller-inner img:hover {
            opacity: 1;
            filter: grayscale(0%);
        }

        @keyframes scroll {
            to {
                transform: translateX(calc(-50% - 20px)); /* -50% pour la moitié du conteneur, -20px pour la moitié du gap */
            }
        }

        #trusted-by {
            background-color: var(--background-color);
            padding-top: 40px; /* Réduction du padding pour un look plus intégré */
            padding-bottom: 40px;
        }

        #trusted-by .section-title {
            color: var(--text-primary);
        }

    </style>
</head>
<body>

    <header>
        <nav class="container">
            <a href="index.html" class="logo"><img src="r/logo.png" alt="Logo Mahu"></a>
            <ul class="desktop-links">
                <li><a href="index.html#features">Technologie</a></li>
                <li><a href="index.html#about">À Propos</a></li>
                <li><a href="index.html#cards">Nos Offres</a></li>
            </ul>
            <div class="nav-actions">
                <a href="Connexion.html" class="primary" id="login-link">
                    <svg class="profile-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                    <span class="login-text">Connexion</span>
                </a> 
                <div class="more-menu-container">
                    <div class="more-menu-icon" onclick="toggleMoreMenu(event)">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg>
                    </div>
                    <div class="more-menu-dropdown">
                        <a href="Boutique.html">Boutique</a>
                        <a href="Panier.html" id="cart-link">Panier (0)</a>
                    </div>
                </div>
                <!-- Conteneur pour le QR Code, caché par défaut -->
                <div id="nav-qrcode-container" style="display: none;">
                    <img src="r/qr-code-icon.svg" id="nav-qrcode-icon" alt="QR Code" style="height: 24px; cursor: pointer;" onclick="toggleQrPopup()">
                    <div id="nav-qrcode-popup">
                        <img id="nav-qrcode-img" src="" alt="Votre QR Code" style="width: 100%; height: auto;">
                    </div>
                </div>
                <div class="menu-burger" onclick="toggleMobileMenu()">☰</div>
            </div>
        </nav>
    </header>

    <div class="nav-links-mobile">
        <a href="index.html#features" onclick="toggleMobileMenu()">Nos Solutions</a>
        <a href="Boutique.html" onclick="toggleMobileMenu()">Boutique</a>
        <a href="index.html#about" onclick="toggleMobileMenu()">À Propos</a>
        <a href="Connexion.html" onclick="toggleMobileMenu()" class="primary">Connexion</a>
        <a href="Panier.html" onclick="toggleMobileMenu()" id="mobile-cart-link">Panier (0)</a>
    </div>

    <main>
        <section class="hero">
            <div class="hero-video-background">
                <video src="r/brunel.mp4" autoplay muted loop playsinline></video>
            </div>
            <div class="hero-overlay"></div>
            <div class="container hero-text-content">
                <img src="r/m.png" alt="Mahu - La nouvelle ère de la connexion" style="max-width: 70%; height: auto; filter: drop-shadow(0 5px 15px rgba(0,0,0,0.5));">
            </div>
        </section>

        <section id="card-showcase">
            <div class="container">
                <h2 class="section-title">Un Visage de Nos Cartes</h2>
                <p class="section-subtitle">Découvrez quelques-uns des designs élégants et professionnels que nous proposons.</p>
            </div>
            <div class="card-scroller">
                <div class="card-scroller-inner">
                    <!-- Les images sont dupliquées pour un défilement infini fluide. Mettre des designs en noir et blanc -->
                    <img src="r/1.svg" alt="Design de carte Mahu 1">
                    <img src="r/2.svg" alt="Design de carte Mahu 2">
                    <img src="r/3.svg" alt="Design de carte Mahu 3">
                    <img src="r/4.svg" alt="Design de carte Mahu 4">
                    <img src="r/5.svg" alt="Design de carte Mahu 5">
                    <!-- Duplication -->
                    <img src="r/1.svg" alt="Design de carte Mahu 1">
                    <img src="r/2.svg" alt="Design de carte Mahu 2">
                    <img src="r/3.svg" alt="Design de carte Mahu 3">
                    <img src="r/4.svg" alt="Design de carte Mahu 4">
                    <img src="r/5.svg" alt="Design de carte Mahu 5">
                </div>
            </div>
        </section>

        <section id="about" class="container">
            <h2 class="section-title">À Propos de Mahu</h2>
            <p class="section-subtitle">Nous réinventons la manière dont les professionnels se connectent. Fini les cartes en papier oubliées, place à une interaction mémorable et digitale.</p>
            <div class="grid-2">
                <div class="card">
                    <h3>Notre Vision</h3>
                    <p>Mahu est née d'une idée simple : rendre le networking plus efficace, plus moderne et plus respectueux de l'environnement. Nous avons combiné design et technologie pour créer un produit qui change la donne.</p>
                </div>
                <div class="card">
                    <h3>Notre Mission</h3>
                    <p>Notre mission est de fournir à chaque professionnel un outil de networking puissant qui reflète son identité numérique. Nous voulons simplifier le partage d'informations et créer des connexions durables grâce à une technologie intuitive.</p>
                </div>
            </div>
        </section>

        <section id="features" class="container">
            <h2 class="section-title">Une Technologie Intuitive</h2>
            <p class="section-subtitle">Découvrez les technologies qui rendent nos cartes si puissantes.</p>
            <div class="grid-2">
                <div class="card">
                    <h3>Technologie NFC</h3>
                    <p>Le NFC (Near Field Communication) est une technologie de communication sans fil à courte portée. En approchant simplement votre carte d'un smartphone compatible, vos informations de contact sont transférées instantanément, sans aucune application requise.</p>
                </div>
                <div class="card">
                    <h3>Technologie RFID</h3>
                    <p>Le RFID (Radio-Frequency Identification) est la technologie de base qui permet à la puce de votre carte de communiquer. Nos cartes utilisent une puce NFC passive (une forme de RFID) qui n'a pas besoin de batterie et est activée par le champ magnétique du téléphone.</p>
                </div>
            </div>
        </section>

        <section id="platform-features" class="container">
            <h2 class="section-title">Au-delà de la Carte</h2>
            <p class="section-subtitle">Votre carte Mahu est la porte d'entrée vers une plateforme de gestion puissante, conçue pour les professionnels modernes.</p>
            <div class="grid-3">
                <div class="card">
                    <div class="feature-card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="color: var(--blue);"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>
                    </div>
                    <h3>Tableau de Bord Intuitif</h3>
                    <p>Suivez en temps réel les performances de votre carte : nombre de vues, clics sur vos liens, et prospects générés. Prenez des décisions basées sur des données concrètes.</p>
                </div>
                <div class="card">
                    <div class="feature-card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="color: var(--blue);"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
                    </div>
                    <h3>Éditeur de Profil en Direct</h3>
                    <p>Un changement de numéro ou de poste ? Mettez à jour votre profil en quelques clics depuis votre espace personnel. Les modifications sont appliquées instantanément sur votre carte.</p>
                </div>
                <div class="card">
                    <div class="feature-card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="color: var(--blue);"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                    </div>
                    <h3>Gestion d'Équipe (Bientôt)</h3>
                    <p>Déployez et gérez les cartes de tous vos collaborateurs depuis une interface centralisée. Assurez une cohérence de marque et suivez les performances de votre équipe.</p>
                </div>
            </div>
        </section>

        <section id="trusted-by">
            <h2 class="section-title" style="margin-bottom: 40px;">Approuvé par les marques du monde entier</h2>
            <div class="logo-scroller">
                <div class="logo-scroller-inner">
                    <!-- Les logos sont dupliqués pour un défilement infini fluide -->
                    <img src="r/a.webp" alt="Logo Marque A">
                    <img src="r/b.webp" alt="Logo Marque B">
                    <img src="r/c.webp" alt="Logo Marque C">
                    <img src="r/d.webp" alt="Logo Marque D">
                    <img src="r/e.webp" alt="Logo Marque E">
                    <img src="r/f.webp" alt="Logo Marque F">
                    <img src="r/h.webp" alt="Logo Marque H">
                    <img src="r/i.webp" alt="Logo Marque I">
                    <img src="r/j.webp" alt="Logo Marque J">
                    
                    <!-- Duplication pour un défilement infini et fluide -->
                    <img src="r/a.webp" alt="Logo Marque A">
                    <img src="r/b.webp" alt="Logo Marque B">
                    <img src="r/c.webp" alt="Logo Marque C">
                    <img src="r/d.webp" alt="Logo Marque D">
                    <img src="r/e.webp" alt="Logo Marque E">
                    <img src="r/f.webp" alt="Logo Marque F">
                    <img src="r/h.webp" alt="Logo Marque H">
                    <img src="r/i.webp" alt="Logo Marque I">
                    <img src="r/j.webp" alt="Logo Marque J">
                    
                </div>
            </div>
        </section>

        <section id="cards" class="container">
            <h2 class="section-title">Nos Offres</h2>
            <p class="section-subtitle">Trouvez la carte qui correspond à votre style. Chaque carte donne accès à vie à notre plateforme.</p>
            <div class="grid-3">
                <div class="card product-card">
                    <h3>Carte Classique PVC</h3>
                    <p>La carte en PVC premium, durable et élégante. Personnalisable avec votre logo et QR code.</p> 
                    <div class="price" style="font-size: 2em; font-weight: bold; margin: 20px 0;">29.99€ <span style="font-size: 0.5em; font-weight: normal; color: var(--text-secondary);">/ unité</span></div>
                    <a href="#" class="btn" onclick="event.preventDefault(); addToCart('pvc', 'Carte Classique PVC', 29.99)">Ajouter au panier</a>
                </div>
                <div class="card product-card">
                    <h3>Carte Métal Noir</h3>
                    <p>Une finition luxueuse en métal brossé pour un impact maximal. Gravure laser de précision.</p>
                    <div class="price" style="font-size: 2em; font-weight: bold; margin: 20px 0;">79.99€ <span style="font-size: 0.5em; font-weight: normal; color: var(--text-secondary);">/ unité</span></div>
                    <a href="#" class="btn" onclick="event.preventDefault(); addToCart('metal', 'Carte Métal Noir', 79.99)">Ajouter au panier</a>
                </div>
                <div class="card product-card">
                    <h3>Carte Bois de Bambou</h3>
                    <p>Écologique et unique, chaque carte en bois véritable est une pièce d'artisanat.</p>
                    <div class="price" style="font-size: 2em; font-weight: bold; margin: 20px 0;">59.99€ <span style="font-size: 0.5em; font-weight: normal; color: var(--text-secondary);">/ unité</span></div>
                    <a href="#" class="btn" onclick="event.preventDefault(); addToCart('wood', 'Carte Bois de Bambou', 59.99)">Ajouter au panier</a>
                </div>
            </div>
        </section>
    </main>

    <script src="config.js"></script>

    <script>
        /**
         * ===================================================================
         *                        SCRIPT CENTRALISÉ
         * ===================================================================
         * Les fonctions communes sont définies ici pour éviter la répétition.
         * Fonction centralisée pour appeler l'API backend via POST.
         */
        function callApi(action, data = {}) {
            const formData = new FormData();
            formData.append('action', action);
            formData.append('token', localStorage.getItem('authToken')); // Toujours envoyer le token
            for (const key in data) {
                const value = typeof data[key] === 'object' ? JSON.stringify(data[key]) : data[key];
                formData.append(key, value);
            }
            return fetch(API_URL, { method: 'POST', body: formData }).then(res => res.json());
        }

        /**
         * Ajoute un produit au panier (localStorage) et synchronise si l'utilisateur est connecté.
         */
        function addToCart(id, name, price) {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            const existingItem = cart.find(item => item.id === id);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ id, name, price, quantity: 1 });
            }
            localStorage.setItem('cart', JSON.stringify(cart));
            alert(name + ' a été ajouté au panier !');
            // Si l'utilisateur est connecté, synchroniser le panier avec le backend
            if (localStorage.getItem('userIsLoggedIn') === 'true') {
                callApi('syncCart', { payload: cart }).catch(err => console.error('Erreur de synchro panier:', err));
            }
            updateCartCounter();
        }

        /**
         * Gère l'affichage du menu mobile.
         */
        function toggleMobileMenu() {
            const mobileMenu = document.querySelector('.nav-links-mobile');
            const burgerIcon = document.querySelector('.menu-burger');
            const body = document.body;

            mobileMenu.classList.toggle('active');
            body.classList.toggle('no-scroll');

            if (mobileMenu.classList.contains('active')) {
                burgerIcon.innerHTML = '✕'; // Icône de fermeture
            } else {
                burgerIcon.innerHTML = '☰';
            }
        }

        /**
         * Met à jour le compteur d'articles dans le header.
         */
        function updateCartCounter() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const cartLink = document.getElementById('cart-link');
            if (cartLink) {
                cartLink.textContent = `Panier (${totalItems})`;
            }
            const mobileCartLink = document.getElementById('mobile-cart-link');
            if (mobileCartLink) {
                mobileCartLink.textContent = `Panier (${totalItems})`;
            }
        }

        /**
         * Met à jour le bouton de connexion en "Tableau de bord" si l'utilisateur est connecté.
         */
        function updateLoginButton() {
            const loginLink = document.getElementById('login-link');
            if (loginLink && localStorage.getItem('userIsLoggedIn') === 'true') {
                loginLink.querySelector('.login-text').textContent = 'Tableau de bord';
                loginLink.href = 'Dashboard.html';
            } else {
                // Si non connecté, s'assurer que le texte est "Connexion" pour le style de l'icône
                loginLink.querySelector('.login-text').textContent = 'Connexion';
                loginLink.href = 'Connexion.html';
            }

            // Quand le header est "scrolled", s'assurer que le texte est visible
            const header = document.querySelector('header');
            const loginText = loginLink.querySelector('.login-text').textContent;
            if (header.classList.contains('scrolled') && loginText === 'Tableau de bord') {
                // Pas besoin de changer le texte ici, le CSS s'en charge.
                // Le JS ci-dessus a déjà mis le bon texte.
            }

            // Si l'utilisateur est connecté, afficher l'icône QR Code
            if (localStorage.getItem('userIsLoggedIn') === 'true') {
                const qrContainer = document.getElementById('nav-qrcode-container');
                if (qrContainer) {
                    qrContainer.style.display = 'block';
                    // Appeler l'API pour obtenir l'URL du profil et générer le QR code
                    callApi('getPublicProfileUrl')
                        .then(data => { // NOSONAR
                            if (data.success) {
                                const publicProfileUrl = `ProfilePublic.html?user=${data.profileUrl}`;
                                const qrCodeUrl = `https://quickchart.io/qr?text=${encodeURIComponent(publicProfileUrl)}&size=150`;
                                document.getElementById('nav-qrcode-img').src = qrCodeUrl;
                            }
                        });
                }
            }
        }

        /**
         * Affiche ou cache le popup du QR code.
         */
        function toggleQrPopup() {
            const popup = document.getElementById('nav-qrcode-popup');
            if (popup.style.display === 'block') {
                popup.style.display = 'none';
            } else {
                popup.style.display = 'block';
            }
        }

        /**
         * Affiche ou cache le menu "trois points".
         */
        function toggleMoreMenu(event) {
            event.stopPropagation(); // Empêche le clic de se propager au document
            const dropdown = document.querySelector('.more-menu-dropdown');
            const isVisible = dropdown.style.display === 'block';
            dropdown.style.display = isVisible ? 'none' : 'block';
        }

        // Fermer le menu si on clique ailleurs
        document.addEventListener('click', function(event) {
            const dropdown = document.querySelector('.more-menu-dropdown');
            const menuContainer = document.querySelector('.more-menu-container');
            if (dropdown && !menuContainer.contains(event.target)) {
                dropdown.style.display = 'none';
            }
        });

        /**
         * Logique exécutée au chargement du DOM.
         */
        document.addEventListener('click', function(event) {
            const qrContainer = document.getElementById('nav-qrcode-container');
            if (qrContainer && !qrContainer.contains(event.target)) {
                document.getElementById('nav-qrcode-popup').style.display = 'none';
            }
        });


        document.addEventListener('DOMContentLoaded', () => { 
            updateCartCounter(); 
            updateLoginButton(); 

            // Mettre à jour le bouton de connexion dans le menu mobile également
            const mobileLoginLink = document.querySelector('.nav-links-mobile a.primary');
            if (mobileLoginLink && localStorage.getItem('userIsLoggedIn') === 'true') {
                mobileLoginLink.textContent = 'Tableau de bord';
                mobileLoginLink.href = 'Dashboard.html';
            }
        });

        /**
         * Change le fond du header au défilement.
         */
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (window.scrollY > 50) { // Change après 50px de défilement
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }

            // Gérer le texte du bouton de connexion/dashboard au scroll
            const loginLink = document.getElementById('login-link');
            const loginText = loginLink.querySelector('.login-text');
            if (localStorage.getItem('userIsLoggedIn') === 'true') {
                loginText.textContent = 'Tableau de bord';
            } else {
                loginText.textContent = 'Connexion';
            }

        });

    </script>
</body>
</html>